# This file was generated by GoReleaser. DO NOT EDIT.
cask "oclai" do
  name "oclai"
  desc "An AI powered terminal assistant similar to Claude Code and Gemini CLI, but runs entirely offline using local models. No API keys, no subscriptions, no data leaving your machine."
  homepage "https://github.com/thejasmeetsingh/oclai"
  version "1.0.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "oclai"
  bash_completion "completions/oclai.bash"
  zsh_completion "completions/oclai.zsh"
  fish_completion "completions/oclai.fish"

  on_macos do
    on_intel do
      url "https://github.com/thejasmeetsingh/oclai/releases/download/v#{version}/oclai_#{version}_Darwin_x86_64.tar.gz",
        using: :homebrew_curl
      sha256 "3f7207c82cd99c08e2010df4cd25ec27ea1f7138fed9436e2bfc48ecbdd96ca8"
    end
    on_arm do
      url "https://github.com/thejasmeetsingh/oclai/releases/download/v#{version}/oclai_#{version}_Darwin_arm64.tar.gz",
        using: :homebrew_curl
      sha256 "5dafd23d006def0e9cac8c80468dcfef4d3e398490ee73faae19a5afdfe3e7a6"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/thejasmeetsingh/oclai/releases/download/v#{version}/oclai_#{version}_Linux_x86_64.tar.gz",
        using: :homebrew_curl
      sha256 "f4cdc44aeb152eb8191c44ce50ae7ab9f0d4aad0bb89d05ba8da6cfaa1bc886b"
    end
    on_arm do
      url "https://github.com/thejasmeetsingh/oclai/releases/download/v#{version}/oclai_#{version}_Linux_arm64.tar.gz",
        using: :homebrew_curl
      sha256 "3c67900dfa637127c2a0bb5ea47b35a688aa2b1eac0226bafdd99e74486cc6b1"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/oclai"]
    end
  end

  zap trash: [
      "~/.oclai",
      "~/Library/Caches/oclai",
    ]

end
